var jPag=(function(){String.prototype.format=function(){var b=arguments;return this.replace(/{(\d+)}/g,function(c,d){return typeof b[d]!="undefined"?b[d]:c})};function a(d){var b={"numPorPag":2,"numPorNav":3,"divPagName":".jPagPag","tresPontosClass":"tresPontosClassJsPag","navegacao":false,"exibeUltimoIndice":false};if(typeof(d)!=="undefined"){for(var c in b){if(typeof d[c]=="undefined"){d[c]=b[c]}}}else{d=b}this.numPorPag=d["numPorPag"];this.numPorNav=d["numPorNav"];this.navegacao=d["navegacao"];this.divPagName=d["divPagName"];this.exibeUltimoIndice=d["exibeUltimoIndice"];this.VerificaECriarDiv()}a.prototype.getNumPorPag=function(){return this.numPorPag};a.HandleEventData=function(c){var b={indice:null,numPPag:null,numPNav:null,seletor:null,nomeDiv:null};var d=c.split(",");b.indice=d[0].replace(/\'/g,"");b.numPPag=parseInt(d[1]);b.numPNav=parseInt(d[2]);b.seletor=d[3].replace(/\'/g,"");if(d.length==5){b.nomeDiv=d[4].replace(/\'/g,"")}else{b.nomeDiv=".jPagPag"}return b};a.prototype.VerificaECriarDiv=function(){var b=this.divPagName;if(b.charAt(0)=="."){b=b.replace(".","")}if($(this.divPagName).length==0){$("body").append('<div class="{0}"></div>'.format(b))}};a.prototype.AlterarPagina=function(h){var d;if(h.type.trim()===""){d=h}else{d=this}var k=$(d).attr("event-data");var l=a.HandleEventData(k);var b=l.indice;var g=l.numPPag;var f=l.numPNav;var c=l.seletor;var j=l.nomeDiv;$(c).hide();a.ExibeItens(b,c,g,j);a.VerificaPriUltOculta(j);a.OcultaNavegacaoNaoUtilizada(j,f)};a.OcultaNavegacaoNaoUtilizada=function(e,g){var f=1;if($(".numPagJs.selected",e).length!=0){f=parseInt($(".numPagJs.selected",e).html())}var d=$(".numPagJs",e).length;if(d<g){$(e).hide()}if(f+1>=d){f=d-2}if(f<=g){f=2}f--;$(".numPagJs",e).parent("td").hide();$($(".numPagJs",e)[f]).parent("td").show();$(".numPagJs.colchete",e).parent("td").show();var b=1;if(g%2!=0){b=g-1;for(var c=1;c<=b/2;c++){$($(".numPagJs",e)[f+c]).parent("td").show();$($(".numPagJs",e)[f-c]).parent("td").show()}}else{b=g-1;for(var c=1;c<=Math.ceil(b/2);c++){$($(".numPagJs",e)[f+c]).parent("td").show()}for(var c=1;c<=b%2;c++){$($(".numPagJs",e)[f-c]).parent("td").show()}}};a.VerificaPriUltOculta=function(b){if($(".numPagJs.selected",b).html()=="1"||$(".numPagJs.selected",b).length==0){$(".navAntes",b).hide()}else{$(".navAntes",b).show()}if($(".numPagJs.selected.ultimo",b).length>=1){$(".navDepois",b).hide()}else{$(".navDepois",b).show()}};a.PaginacaoSelect=function(c,b){var c=String(c);$(".numPagJs",b).each(function(d,e){if(c==$(e).html()){if(!$(e).hasClass("selected")){$(e).addClass("selected")}}else{$(e).removeClass("selected")}})};a.prototype.BindEvents=function(){var b=this;var c=$("a.numPagJs, .navDepois, .navAntes",this.divPagName);c.each(function(d,e){$(e).click(b.AlterarPagina)});return c};a.calculaIndiceInicial=function(b,c){var b=parseInt(b);var c=parseInt(c);return(b-1)*c};a.calculaPaginacaoFinal=function(b,c){var b=parseInt(b);var c=parseInt(c);if(b%c==0){return b/c}return Math.floor(b/c)+1};a.calculaItemExibido=function(e,d,b){var d=parseInt(d);var b=parseInt(b);var e=parseInt(e);var c=a.calculaIndiceInicial(e,d);if(c+d<=b){return d}return b%d};a.prototype.montarNavAntes=function(c,d,b){var f="";var e="";if(this.divPagName!=".jPagPag"){e=",'{0}'".format(this.divPagName)}f+='<td class="navTdMenorMenor"><a class="navAntes" target="_self" href="#" event-data="{0},{1},{2},\'{3}\'{4}">{5}</a></td>'.format("P",d,b,c,e,"<<");f+='<td class="navTdMenor"><a class="navAntes" target="_self" href="#" event-data="{0},{1},{2},\'{3}\'{4}">{5}</a></td>'.format("-1",d,b,c,e,"<");return f};a.prototype.montarNavDepois=function(c,d,b){var f="";var e="";if(this.divPagName!=".jPagPag"){e=",'{0}'".format(this.divPagName)}f+='<td class="navTdMaior"><a class="navDepois" target="_self" href="#" event-data="{0},{1},{2},\'{3}\'{4}">{5}</a></td>'.format("+1",d,b,c,e,">");f+='<td class="navTdMaiorMaior"><a class="navDepois" target="_self" href="#" event-data="{0},{1},{2},\'{3}\'{4}">{5}</a></td>'.format("U",d,b,c,e,">>");return f};a.IndiceItemSelecionado=function(b){if($(".numPagJs.selected",b).length>=1){return parseInt($(".numPagJs.selected",$(b)).html())}return 0};a.ExibeItens=function(f,b,l,k){var d=$(b).length;var h=$(b).length;if(f=="P"){f=1}if(f=="U"){f=this.calculaPaginacaoFinal(h,l)}if(String(f)=="+1"){f=a.IndiceItemSelecionado(k)+1;var j=this.calculaPaginacaoFinal(h,l);if(f>=j){f=j}}if(f=="-1"){f=a.IndiceItemSelecionado(k)-1;if(f<=0){f=1}}a.PaginacaoSelect(f);var c=a.calculaIndiceInicial(f,l);var g=a.calculaItemExibido(f,l,d);for(var e=0;e<g;e++){$($(b)[c+e]).show()}};a.prototype.MontaHtmlPaginacao=function(b,f){var g="";if(this.divPagName!=".jPagPag"){g=",'{0}'".format(this.divPagName)}var d=a.calculaPaginacaoFinal(f,this.numPorPag)-1;var j="";var h="";var e=" selected";var c=f/this.numPorPag;for(i=0;i<c;i++){h+="<td>";if(i==d){j=" ultimo"}if(i!=0){e=""}h+='<a href="#" target="_self" class="numPagJs{6}{5}" event-data="{0},{1},{2},\'{3}\'{4}">{0}</a>'.format(i+1,this.numPorPag,this.numPorNav,b,g,j,e);h+="</td>"}if(this.exibeUltimoIndice){h+='<td><div class="tresPontosClassJsPag">...</div><a href="#" target="_self" class="numPagJs ultimo colchete" event-data="{0},{1},{2},\'{3}\'{4}">[ {0} ]</a></td>'.format(i,this.numPorPag,this.numPorNav,b,g)}return h};a.prototype.MontarPaginacaoENavegacao=function(d){var e,c,b;c="";e="";b="";if(this.navegacao){c=this.montarNavAntes($(d).selector,this.numPorPag,this.numPorNav);b=this.montarNavDepois($(d).selector,this.numPorPag,this.numPorNav)}e="<table><tr>{0}{1}{2}</tr></table>";a.ExibeItens(1,d,this.numPorPag,this.divPagName);var f=this.MontaHtmlPaginacao($(d).selector,$(d).length);if(this.navegacao){e=e.format(c,f,b)}else{e=e.format("",f,"")}return e};a.prototype.Paginar=function(c){var f;var e,b;var d=this.divPagName;var b=this.numPorNav;this.seletor=c;$(c).hide();$(this.divPagName).append(this.MontarPaginacaoENavegacao(c));a.VerificaPriUltOculta(this.divPagName);a.OcultaNavegacaoNaoUtilizada(d,b);this.BindEvents(c)};return a})();